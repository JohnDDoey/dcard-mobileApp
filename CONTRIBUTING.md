# ü§ù Guide de Contribution

Merci de votre int√©r√™t pour contribuer √† DCARD Mobile App ! Ce document vous guidera dans le processus de contribution.

---

## üìã Table des mati√®res

- [Code de conduite](#-code-de-conduite)
- [Comment contribuer](#-comment-contribuer)
- [Standards de code](#-standards-de-code)
- [Workflow Git](#-workflow-git)
- [Tests](#-tests)
- [Documentation](#-documentation)

---

## ü§ù Code de conduite

### Notre engagement

Nous nous engageons √† faire de la participation √† ce projet une exp√©rience sans harc√®lement pour tous, ind√©pendamment de :
- L'√¢ge
- La taille corporelle
- Le handicap
- L'ethnicit√©
- L'identit√© et l'expression de genre
- Le niveau d'exp√©rience
- La nationalit√©
- L'apparence personnelle
- La race
- La religion
- L'identit√© et l'orientation sexuelles

### Nos standards

**Comportements encourag√©s** ‚úÖ
- Utiliser un langage accueillant et inclusif
- Respecter les diff√©rents points de vue et exp√©riences
- Accepter gracieusement les critiques constructives
- Se concentrer sur ce qui est le mieux pour la communaut√©
- Faire preuve d'empathie envers les autres membres

**Comportements inacceptables** ‚ùå
- Langage ou images √† caract√®re sexuel
- Commentaires insultants ou d√©sobligeants
- Harc√®lement public ou priv√©
- Publication d'informations priv√©es sans permission
- Autres conduites inappropri√©es en contexte professionnel

---

## üí° Comment contribuer

### Types de contributions

Nous acceptons plusieurs types de contributions :

#### üêõ Signaler un bug
1. V√©rifier que le bug n'a pas d√©j√† √©t√© signal√© dans [Issues](https://github.com/JohnDDoey/dcard-mobileApp/issues)
2. Cr√©er une nouvelle issue avec le template "Bug Report"
3. Inclure :
   - Description claire et concise
   - √âtapes pour reproduire
   - Comportement attendu vs. observ√©
   - Screenshots si applicable
   - Environnement (OS, navigateur, version Node.js)

#### ‚ú® Proposer une fonctionnalit√©
1. V√©rifier que la fonctionnalit√© n'a pas d√©j√† √©t√© propos√©e
2. Cr√©er une issue avec le template "Feature Request"
3. Inclure :
   - Description d√©taill√©e de la fonctionnalit√©
   - Cas d'usage
   - Mockups ou exemples si possible
   - Impact potentiel sur l'existant

#### üìù Am√©liorer la documentation
- Corriger des typos
- Clarifier des explications
- Ajouter des exemples
- Traduire la documentation

#### üîß Soumettre du code
1. Fork le repository
2. Cr√©er une branche depuis `main`
3. Faire vos modifications
4. Soumettre une Pull Request

---

## üìè Standards de code

### TypeScript / JavaScript

#### Conventions de nommage

```typescript
// Variables et fonctions : camelCase
const userName = "John";
function getUserData() { }

// Classes et types : PascalCase
class UserProfile { }
type UserData = { };
interface IUser { }

// Constantes : UPPER_SNAKE_CASE
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = "https://api.example.com";

// Composants React : PascalCase
export default function UserCard() { }

// Fichiers : kebab-case ou PascalCase selon le type
// Pages : page.tsx
// Composants : UserCard.tsx
// Services : cashback-service.ts
```

#### Style de code

```typescript
// ‚úÖ BON
import { useState, useEffect } from 'react';

export default function MyComponent() {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    console.log('Count changed:', count);
  }, [count]);
  
  const handleClick = () => {
    setCount(prev => prev + 1);
  };
  
  return (
    <button onClick={handleClick}>
      Count: {count}
    </button>
  );
}

// ‚ùå MAUVAIS
import {useState,useEffect} from 'react'
export default function MyComponent(){
const [count,setCount]=useState(0)
useEffect(()=>{console.log('Count changed:',count)},[count])
return <button onClick={()=>{setCount(count+1)}}>Count: {count}</button>
}
```

#### Indentation et formatage

- **Indentation** : 2 espaces (pas de tabs)
- **Ligne max** : 100 caract√®res
- **Point-virgules** : Oui
- **Quotes** : Simple quotes `'` pour les strings, backticks `` ` `` pour les templates
- **Trailing commas** : Oui pour les objets et tableaux multi-lignes

```typescript
// ‚úÖ BON
const user = {
  name: 'John',
  age: 30,
  email: 'john@example.com',
};

// Template literals pour interpolation
const greeting = `Hello, ${user.name}!`;

// ‚ùå MAUVAIS
const user = {
  name: "John",
  age: 30,
  email: "john@example.com"
}
```

### React / Next.js

#### Structure des composants

```typescript
'use client'; // Si n√©cessaire

import { useState, useEffect } from 'react';
import { useLanguage } from '@/contexts/LanguageContext';
import MyChildComponent from './MyChildComponent';

// Types/Interfaces en premier
interface MyComponentProps {
  title: string;
  onSubmit: (data: FormData) => void;
}

// Composant principal
export default function MyComponent({ title, onSubmit }: MyComponentProps) {
  // 1. Hooks React
  const { t } = useLanguage();
  const [isLoading, setIsLoading] = useState(false);
  
  // 2. useEffect
  useEffect(() => {
    // Side effects
  }, []);
  
  // 3. Fonctions handlers
  const handleSubmit = async () => {
    setIsLoading(true);
    try {
      // Logic
    } catch (error) {
      console.error(error);
    } finally {
      setIsLoading(false);
    }
  };
  
  // 4. Render
  return (
    <div className="container">
      <h1>{title}</h1>
      <MyChildComponent />
    </div>
  );
}
```

#### Hooks personnalis√©s

```typescript
// useCustomHook.ts
import { useState, useEffect } from 'react';

export function useCustomHook(initialValue: string) {
  const [value, setValue] = useState(initialValue);
  
  useEffect(() => {
    // Logic
  }, [value]);
  
  return { value, setValue };
}
```

### CSS / Tailwind

#### Classes Tailwind

```tsx
// ‚úÖ BON - Classes organis√©es par cat√©gorie
<div className="
  flex items-center justify-center
  w-full max-w-lg
  p-4 m-2
  bg-gray-800 border border-gray-600 rounded-lg
  text-white font-bold
  hover:bg-gray-700 transition-colors
">
  Content
</div>

// ‚úÖ BON - Utiliser des composants r√©utilisables
const buttonClasses = "bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded";

// ‚ùå MAUVAIS - Classes en d√©sordre et illisibles
<div className="text-white bg-gray-800 flex w-full p-4 m-2 items-center hover:bg-gray-700 justify-center">
```

#### CSS personnalis√©

```css
/* ‚úÖ BON - Noms de classes descriptifs */
.staggered-menu-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: clamp(260px, 38vw, 420px);
}

/* ‚ùå MAUVAIS - Noms g√©n√©riques */
.panel {
  position: fixed;
}
```

### Solidity (Smart Contracts)

```solidity
// ‚úÖ BON
pragma solidity ^0.8.0;

contract CashbackRegistry {
    // State variables
    mapping(string => Coupon) private coupons;
    
    // Events
    event CashbackRegistered(
        string indexed cashbackCode,
        address indexed beneficiary,
        uint256 amount
    );
    
    // Modifiers
    modifier onlyValidCode(string memory code) {
        require(bytes(code).length > 0, "Code cannot be empty");
        _;
    }
    
    // Functions
    function registerCashback(
        string memory cashbackCode,
        address issuer,
        address beneficiary,
        uint256 amount
    ) public onlyValidCode(cashbackCode) {
        // Implementation
    }
}
```

---

## üîÑ Workflow Git

### Branches

Nous utilisons le mod√®le Git Flow simplifi√© :

- **`main`** : Branche principale, toujours stable
- **`feature/*`** : Nouvelles fonctionnalit√©s
- **`fix/*`** : Corrections de bugs
- **`docs/*`** : Documentation
- **`refactor/*`** : Refactoring de code
- **`test/*`** : Tests

### Conventions de commit

Format : `type(scope): description`

**Types** :
- `feat` : Nouvelle fonctionnalit√©
- `fix` : Correction de bug
- `docs` : Documentation
- `style` : Formatage, style
- `refactor` : Refactoring
- `test` : Tests
- `chore` : T√¢ches de maintenance

**Exemples** :
```bash
feat(auth): add password reset functionality
fix(blockchain): resolve contract address loading issue
docs(readme): update installation instructions
style(menu): improve mobile responsive design
refactor(api): simplify blockchain service calls
test(auth): add login component tests
chore(deps): update Next.js to v15
```

### Processus de Pull Request

1. **Fork** le repository

2. **Clone** votre fork
```bash
git clone https://github.com/YOUR_USERNAME/dcard-mobileApp.git
cd dcard-mobileApp
```

3. **Cr√©er une branche**
```bash
git checkout -b feature/my-awesome-feature
```

4. **Faire vos modifications**
```bash
# Editer les fichiers
git add .
git commit -m "feat(scope): description"
```

5. **Push** vers votre fork
```bash
git push origin feature/my-awesome-feature
```

6. **Cr√©er une Pull Request** sur GitHub
   - Titre clair et descriptif
   - Description d√©taill√©e des changements
   - Lien vers les issues associ√©es (#123)
   - Screenshots si changements UI

7. **Review process**
   - Au moins 1 reviewer requis
   - Tests doivent passer
   - Pas de conflits
   - Code review approuv√©

---

## üß™ Tests

### Tests unitaires

```typescript
// UserCard.test.tsx
import { render, screen } from '@testing-library/react';
import UserCard from './UserCard';

describe('UserCard', () => {
  it('renders user name', () => {
    render(<UserCard name="John Doe" />);
    expect(screen.getByText('John Doe')).toBeInTheDocument();
  });
  
  it('calls onClick when clicked', () => {
    const handleClick = jest.fn();
    render(<UserCard name="John" onClick={handleClick} />);
    screen.getByRole('button').click();
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

### Tests d'int√©gration

```typescript
// send-money.integration.test.tsx
describe('Send Money Flow', () => {
  it('completes full transaction flow', async () => {
    // 1. Navigate to send money page
    // 2. Fill form
    // 3. Submit payment
    // 4. Verify blockchain recording
    // 5. Check success message
  });
});
```

### Lancer les tests

```bash
npm run test          # Tests unitaires
npm run test:watch    # Mode watch
npm run test:coverage # Coverage report
```

---

## üìö Documentation

### Code documentation

```typescript
/**
 * Enregistre un nouveau coupon cashback sur la blockchain
 * 
 * @param cashbackCode - Code unique du coupon (8 caract√®res)
 * @param issuer - Adresse de l'√©metteur
 * @param beneficiary - Adresse du b√©n√©ficiaire
 * @param amount - Montant en wei
 * @param currency - Code devise (EUR, USD, etc.)
 * @returns Transaction hash
 * @throws Error si l'enregistrement √©choue
 * 
 * @example
 * ```typescript
 * const txHash = await recordCashback(
 *   'ABC12345',
 *   '0x123...',
 *   '0x456...',
 *   100,
 *   'EUR'
 * );
 * ```
 */
export async function recordCashback(
  cashbackCode: string,
  issuer: string,
  beneficiary: string,
  amount: number,
  currency: string
): Promise<string> {
  // Implementation
}
```

### README des composants

Chaque composant complexe devrait avoir son propre README :

```markdown
# UserCard Component

## Description
Affiche une carte utilisateur avec photo, nom et actions.

## Props
| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| name | string | Yes | - | Nom de l'utilisateur |
| email | string | No | '' | Email de l'utilisateur |
| onEdit | () => void | No | undefined | Callback au clic sur Edit |

## Usage
\`\`\`tsx
<UserCard
  name="John Doe"
  email="john@example.com"
  onEdit={() => console.log('Edit clicked')}
/>
\`\`\`
```

---

## ‚úÖ Checklist avant PR

Avant de soumettre votre Pull Request, v√©rifiez :

- [ ] Mon code suit les conventions du projet
- [ ] J'ai comment√© les parties complexes
- [ ] J'ai mis √† jour la documentation si n√©cessaire
- [ ] Mes commits sont clairs et suivent la convention
- [ ] J'ai ajout√©/mis √† jour les tests
- [ ] Tous les tests passent
- [ ] Pas de warnings ESLint
- [ ] Le code est format√© (Prettier)
- [ ] J'ai test√© sur mobile et desktop
- [ ] Pas de console.log oubli√©s (sauf logs intentionnels)
- [ ] Les traductions sont √† jour (FR/EN/ES)
- [ ] Le README est √† jour si n√©cessaire

---

## üÜò Besoin d'aide ?

- üí¨ **Discord** : [Rejoindre le serveur](https://discord.gg/dcard)
- üìß **Email** : dev@dcard.com
- üìñ **Documentation** : [docs.dcard.com](https://docs.dcard.com)
- üêõ **Issues** : [GitHub Issues](https://github.com/JohnDDoey/dcard-mobileApp/issues)

---

## üôè Remerciements

Merci √† tous les contributeurs qui aident √† am√©liorer DCARD Mobile App ! üéâ

Chaque contribution, petite ou grande, est pr√©cieuse et appr√©ci√©e.

---

**Happy Coding! üíªüöÄ**

